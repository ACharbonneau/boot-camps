<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="en-us" />
<title>/CXFkTz1gYF</title>
</head>
<body>oDay 2 UMass Amherst SWC Boot camp<br
/><br
/>Minute cards for Day 2<br
/><a href="https://docs.google.com/forms/d/1SfK0KjkX6ZDTSdEUDIXp7njZ1EvTNbfZhkaZHRnZXvc/">https://docs.google.com/forms/d/1SfK0KjkX6ZDTSdEUDIXp7njZ1EvTNbfZhkaZHRnZXvc/</a><br
/><br
/>Opt in for local software carpentry email list:<br
/>Email deangelis@microbio.umass.edu<br
/>&nbsp;<br
/><ul><li>In case you didn't get it or you lost it, the command to check out the repository is:<ul><li>git clone <a href="https://github.com/swcarpentry/boot-camps.git">https://github.com/swcarpentry/boot-camps.git</a> -b 2013-05-umass</li></ul
></li></ul
>&nbsp;<br
/><ul><li>Yezdi sent me a link to this nice, terse Git and GitHub guide that he found helpful--it should serve as a good review of what we did yesterday, and a few things we did not do: <a href="http://kbroman.github.io/github_tutorial/">http://kbroman.github.io/github_tutorial/</a></li
><li>We also added our git tutorial notes to the repository, as well as a couple of git cheat sheets here: <a href="https://github.com/swcarpentry/boot-camps/tree/2013-05-umass/version-control/git">https://github.com/swcarpentry/boot-camps/tree/2013-05-umass/version-control/git</a>&nbsp; (most of you should have this in your checkout of the boot-camps repository)<br/><br
/></li></ul
><u>Day 2 - Morning: Introductory Python</u><br
/><br
/><ul><li>Go to the directory containing your boot-camps Git repository<ul><li>example: cd ~/boot-camps</li
><li>Pull changes from yesteday (including Day 1 Etherpad notes): "git pull origin 2013-05-umass"</li></ul
></li
><li>IPython notebooks<ul><li>Allows you to run Python code in cells and have an interactive page that you can share with people (like your graduate school advisor)</li
><li>similar functionality in RStudio ( <a href="http://www.rstudio.com/)">http://www.rstudio.com/)</a>, IPython also has a plugin for R code<ul><li>(<a href="http://nbviewer.ipython.org/urls/raw.github.com/ipython/ipython/master/examples/notebooks/R%20Magics.ipynb)">http://nbviewer.ipython.org/urls/raw.github.com/ipython/ipython/master/examples/notebooks/R%20Magics.ipynb)</a></li></ul
></li
><li>Mathematica notebooks are also similar (but Mathematica is not free)<ul><li>IPython Notebook is in fact inspired by Mathematica (but Fernando Perez has kind of an axe to grind against Wolfram)</li></ul
></li
><li>You can post your notebooks online for others to see at <a href="http://nbviewer.ipython.org/">http://nbviewer.ipython.org/</a> (which also has a gallery of some nice notebooks people have done)&nbsp; This is a nice website because people don't need to install Python and IPython to look at your notebook.</li></ul
></li
><li>Start up an iPython notebook<ul><li>ipython notebook StudentNotes_umass.ipynb</li
><li>Your browser should open a webpage containing your iPython notebook</li
><li>Troubleshooting iPython notebook (see some notes below)</li
><li>You can run this in the background (so that you can keep on entering commands in the terminal window you used to run iPython notebook in) by typing the ampersand:<ul><li>ipython notebook StudentNotes_umass.ipynb &amp;</li></ul
></li></ul
></li
><li>Basic navigation/commands in iPython<ul><li>Shift-Enter to execute the commands in a cell</li
><li>Some basic commands in the menu bar<ul><li>Insert &gt; Insert Cell Above: Insert a new cell for entering code above the current cell<ul><li>&nbsp;(Also you can click on the icon of the arrow with a line above it in the menu bar)</li></ul
></li
><li>Insert &gt; Insert Cell Below: Insert a new cell for entering code below the current cell<ul><li>&nbsp;(Also you can click on the icon of the arrow with a line below it in the menu bar)</li></ul
></li
><li>Cell &gt; All Output &gt; Clear : Clear all the output generated, i.e. the cells in Out [ ]</li></ul
></li
><li>Keyboard shortcuts: see Help &gt; Keyboard Shortcuts at the top of the iPython Notebook window</li></ul
></li
><li>Assigning variables<ul><li>Assignment: Note that in iPython, you need to execute an assignment command (with Shift-Enter) in order for variable assignment to be done. Just typing the assignment command is not sufficient.</li></ul
></li
><li>Viewing variables<ul><li>Interactive view: you can just type the variable (and Shift-Enter), e.g. a<ul><li>For lists, you get one element per row displayed if you just type the list variable name in iPython notebook</li></ul
></li
><li>Print to screen human-readable view: You need to use the print command, e.g. print a<ul><li>For lists, you get all the elements printed out wrapping across lines in iPython notebook</li></ul
></li></ul
></li
><li>Mutability: immutable objects and variable assignment<ul><li>b = a</li
><li>Variables are really labels or names</li
><li>a and b are different labels pointing to the same object<ul><li>In some other programming languages, this is not the case</li></ul
></li></ul
></li
><li>Containers (mutable objects)<ul><li>Lists<ul><li>Note that Python starts counting from 0 in indexing, so the first item in a list my_list is indexed with my_list[0], not my_list[1]. (This is called zero-indexing)</li
><li>my_list[-1] allows you to index the last item in the list (not my_list[-0], since -0 is indistinguishable from 0!) (Negative indexing)<ul><li>Conceptual understanding of -1 rather than 0: circular buffer</li
><li>Another way to think about the negative list indexing (counting from the end) is as subtracting from the length of the list.&nbsp; That is:</li></ul
></li></ul
></li></ul
></li></ul
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; my_list[-2] = my_list[len(a) - 2]<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if it were zero, you'd get an out of range error:<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a[len(a) - 0]&nbsp; --&gt; IndexError List index out of Range<br
/><ul><li>Slicing: my_list[0:5:2]<ul><li>You can think of the three integers as from:up to (but not including):step, i.e. "Get me the list elements from 0 to 5, incrementing by 2, i.e. get me list elements 0, 0+2, 0+2+2 (note that element my_list[5] is not included in the slice)</li></ul
></li
><li>You can get the length of a list using the built-in "len()" function in python:&nbsp; len(my_list)</li
><li>You can add items to lists using the append() function.&nbsp; For example, you can add an item to "my_list", with the statement&nbsp;</li></ul
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; my_list.append('four')&nbsp;<br
/><ul><li>Where the notebook states that "list is a reserved word": Let me unpack that statement a little.&nbsp; Python has many built in "words" and "list" is one of them--list is actually the list type.&nbsp; But Python has a newbie trap in that it allows you redefine certain predefined words.&nbsp; So if you type "list = 123" it will use "list" as a variable and *shadow* the list builtin.&nbsp; This is something to be careful about.<ul><li>Can you redefine "+"?&nbsp; That would really screw you up.&nbsp; (That was my first exercise for intro programming class in college.&nbsp; We used Scheme for our programming language.)</li
><li>Yes, but you have to do it by redefining the type of things you're adding.&nbsp; That is, you'd have to redefine 'int' or 'float'</li></ul
></li
><li>Say you have a list of *only* strings like my_list = ['apple', 'orange', 'carrot'].&nbsp; If you print that list it will print its contents, but with quotes around it (to distinguish the fact that they're strings.&nbsp; For example:<ul><li>&gt;&gt;&gt; print my_list</li
><li>['apple', 'orange', 'carrots']</li></ul
></li
><li>But say you just want to print a bunch of strings without the quotes. There are many ways you can do this.&nbsp; One of the simplest ways (given without explanation for now) is this:</li></ul
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &gt;&gt;&gt; print ' '.join(my_list)<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; apple orange carrot<br
/><ul><li>Tuples<ul><li>tuples look a lot like lists</li
><li>Key point is that tuples are immutable, which is different than lists</li
><li>You define a tuple with parentheses '(' and ')' whereas lists are defined with square brackets '[' and ']'</li
><li>You can't change the size of a tuple once you've defined it</li
><li>Design considersations: use a tuple if it wouldn't make sense to change the size or contents of your data structure</li
><li>Once we explain more about dictionaries another important use case will become clear:&nbsp; Because tuples are *immutable* we can actually use them as a dictionary key, which is occasionally useful.&nbsp; A tuple like (1, 2) is equivalent to any other tuple of (1, 2).&nbsp; If it were a list like my_list = [1, 2] we could change it like "my_list[1] = 3"&nbsp; Now it's the pair [1, 3] which is different from (1, 2) and so it no longer points to the same value as (1, 2) (if any at all).</li></ul
></li
><li>Dictionaries</li
><li>Dictionaries are kind of like "lockers".&nbsp; You have a key for each locker and each locker contains some data in it</li
><li>The syntax for a dictionary is to begin and end the dictionary with curly braces '{' and '}'</li
><li>Unlike lists and tuples, dictionaries don't really have an "order".&nbsp; You can't use something like "my_dict[3]'</li
><li>A key can be a number, string, or even a tuple.&nbsp;&nbsp;<ul><li>Why would a tuple be useful?&nbsp; Imagine using (x,y,z) coordinates to reference a location in a dictionary.</li></ul
></li
><li>The keys and values of the dictionary can be accessed separately.&nbsp; For example, "print my_dict.keys()" and "print my_dict.values()"<ul><li>For the key-value pairs, you can access the items.&nbsp; An item is a tuple of a key and its corresponding value.&nbsp; You can print items by running "print my_dict.items()"</li
><li>Why are there parenthese after keys, values, and items?&nbsp; Because under the hood, the dictionary is an object with methods (functions for the objects).&nbsp; In this case, "keys", "values", and "items" are actually functions and not ordinary variables.&nbsp; If you don't know what an object is, don't worry.&nbsp; It's related to a style of programming called "object oriented programming".</li></ul
></li
><li>Dictionaries are useful for storing metadata (data about data).</li
><li>One other important thing to understand about dictionaries, is that when you look up a value by its dictionary key, such as my_dict['orange'] you can think of the expression "my_dict['orange']" as a variable pointing to the value.&nbsp; So say the value is a list like:</li></ul
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; my_dict['orange'] = ['apple', 'banana', 'paer']<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; but you misspelled 'pear' and want to change that value.&nbsp; If you had the list in a normal variable like my_list you can assign to it like my_list[2] = 'pear'.&nbsp; But since the list is a value in a dictionary you use the dictionary lookup itself like a variable pointing to that value:<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; my_dict['orange'][2] = 'pear'<br
/><ul><li>If you need to change a key in a dictionary, you must recreate it.&nbsp; For example:</li
><li>my_dict = {'one' : 1, 'tow':2}</li
><li>my_dict['two'] = my_dict['tow']</li
><li>del my_dict['tow']<ul><li>print my_dict<ul><li>{'two': 2, 'one': 1}&nbsp;&nbsp; #note that it's not in the expected order, dicts are unordered</li></ul
></li></ul
></li
><li>If statements</li
><li>You are probably familiar with if statements from other programming languages.&nbsp; For python, indentation is very important for if statements (and for the programming language in general).&nbsp; After the "if &lt;expression&gt;" line, you need to indent the next line for it to be part of the if clause.&nbsp; This is different than languages like C/C++/Java where you use braces to delineate if clauses.&nbsp; You can also write if-else statements or if-elif-else statements.&nbsp; elif is a shorthand for "else if"</li
><li>Another Python syntax note is that for many special statements, the statement ends in a colon.&nbsp; For example, "if &lt;expression&gt;:"</li
><li>Python uses indentation to determine the meaning of each line of code.&nbsp; Never use tabs for indentation.&nbsp; Always use the space bar.</li
><li>You can write more complicated if statements than just if clauses.&nbsp; You can also write if-else statements or if-elif-else statements.&nbsp; elif is a shorthand for "else if"</li
><li>For loops</li
><li>Instead of using an index i for your for loop, Python encourages meaningful syntax.&nbsp; You can do something like "for fruit in fruit_list" which is much more meaningful to humans.<ul><li>The fruit variable in "for fruit in fruit_list" actually hangs around after the loop is finished.&nbsp; It contains the last item in fruit_list.</li
><li>You can also do this for two lists of the same size because Python understands how to loop over tuples.&nbsp; You can create a tuple list from two lists using the zip function.&nbsp; For example, "for fruit, price in zip(fruit_list, price_list):"<ul><li>To see what the zip function is doing, try "print zip(fruit_list, price_list)"</li></ul
></li></ul
></li
><li>If you need the index, you can use something like "for index in range(len(fruit_list)):"</li
><li>Functions</li
><li>examples of functions we've already seen: len(), range(), type()</li
><li>a useful group of functions - functions that cast a value into a certain type, e.g. int(), float(), str()</li
><li>Functions are a part of good code design.&nbsp;&nbsp;<ul><li>Make sure your function only does one thing.&nbsp; If it does multiple things, that will be confusing if you have to debug your code later on.&nbsp; Also, if it only does one thing, it's easier to give your function a good descriptive name.</li
><li>If you find yourself re-writing similar code over and over again, make it into a function.&nbsp; That will make your code much easier to maintain and avoid bugs.&nbsp; If the code is only in one place, it is easy to diagnose and fix.</li></ul
></li
><li>When your code becomes complicated enough, you may consider putting related functions into a module.&nbsp; A group of modules is a library.&nbsp; For an example of a Python library, see Erik's AstroPy.</li
><li>Docstrings</li
><li>Documentation is very important!!&nbsp; What if you have to look at this code 3 years from now?&nbsp; If the code is sufficiently complex, it's unlikely you'll understand it without documentation.</li
><li>When you call the help function on a function, Python will print the docstring.&nbsp; So "help(square)" will print the documentation on the square function.&nbsp;</li
><li>A good way to write code is to write the docstring for a function before you actually write the code for the function.&nbsp; You may catch errors in your thinking and save time from writing bad code.</li
><li>There are programs that can interpret docstrings and make them into webpages or do other useful things with docstrings.&nbsp; So writing docstrings well can be very helpful and efficient!</li
><li>Files</li
><li>Processing files is a basic part of working with data.</li
><li>You can read and write files with built-in Python functions.<ul><li>Use the open function to create a file object.&nbsp; For example,&nbsp;</li></ul
></li></ul
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; open_file = open('animals.txt', 'r')<br
/><ul><li>Then you can call file-related methods.&nbsp; To read all the lines from the file, you can use, for example, "all_lines = open_file.readlines()"</li
><li>There are also built-in functions for processing strings.&nbsp; For example, if you have a line of test stored in a variable "text_line", you can split it by a specific character using text_line.split()&nbsp; By default, split() splits on whitespace, but you can give it a charcter like ',' as a parameter and it will split on that (which you might do if you have a CSV file).</li
><li>Exercise: write a function count_moose() that processes a file containing data on animal sightings</li
><li>The specification for this function is the following: Read a text file and print each line on which more than 10 moose were sighted.</li
><li>Don't forget to write a docstring for your function!</li
><li>Put this function in its own file count_animals.py&nbsp; count_animals is a module containing the function count_moose()</li
><li>Now you can import this function into your iPython notebook using the command "import".&nbsp; For example, "import count_animals"</li
><li>After you've imported your module, you can call functions from it like this:&nbsp;&nbsp;</li></ul
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; count_animals.count_moose("file.txt")<br
/><ul><li>If you import a module in a Python session and then modify the module later, you need to run the reload command.&nbsp; For instance, "reload(count_animals)"</li
><li>Modules</li
><li>You can write your own modules and import them.</li
><li>There are lots of Python modules other people have written and you can import them the same way.&nbsp;&nbsp;<ul><li>A very useful built-in Python module is os&nbsp; You can use it to run shell commands, like listing the files in your directory.</li></ul
></li
><li>In fact, the Python you've been using is itself a bunch of modules.&nbsp; You can get information about the Python 2.x standard library here: <a href="http://docs.python.org/2/library/">http://docs.python.org/2/library/</a><ul><li>As a side note, the standard library is actually written in C and not Python (probably because C usually runs faster)<br/><br
/></li></ul
></li></ul
><b>If iPython notebook isn't working</b><br
/><ul><li>check that iPython is installed and find out what version it is</li
><li>Run "which ipython" to see if you have ipython and if you do have it, what the path for the executable</li
><li>If you don't have iPython, you need to install it.&nbsp; You need version 0.13 or higher</li
><li>Assuming you have iPython already, check the version by running "ipython --version"&nbsp; You want the version to be 0.13 or higher</li
><li>If&nbsp; you used apt-get to install iPython, you may have an old version of&nbsp; iPython.&nbsp; Try installing Anaconda (if you have Mac OS X or Linux).&nbsp; If&nbsp; you have Windows, you can try installing Enthought.&nbsp; Information here: <a href="http://swcarpentry.github.io/boot-camps/2013-05-23-amherst/">http://swcarpentry.github.io/boot-camps/2013-05-23-amherst/</a></li
><li>If&nbsp; you are running an old version of iPython, you may see an error about&nbsp; "unreadable JSON notebook" when you try to open a notebook</li
><li>If&nbsp; you have installed Anaconda recently (which means you probably have&nbsp; iPython v0.13) and you try running the iPython notebook and this doesn't&nbsp; work, you may have two versions of iPython on your computer.&nbsp; Try&nbsp; calling the anaconda version directly by running&nbsp; "/home/username/anaconda/bin/ipython"<br/><br
/></li></ul
>For&nbsp; the git pull command to work, you should be inside the directory. It&nbsp; does not work if you are not inside the directory. That is you have to&nbsp; be inside boot-camp directory<br
/><br
/><u>Day 2 - Afternoon: Software Engineering with Python</u><br
/><br
/><ul><li>Motivation for writing good code in science: <a href="http://nicercode.github.io/blog/2013-04-05-why-nice-code/">http://nicercode.github.io/blog/2013-04-05-why-nice-code/</a><ul><li>Writing good code will save you time!&nbsp; See <a href="http://xkcd.com/1205/">http://xkcd.com/1205/</a></li></ul
></li
><li>Erik demonstrates his process when he is writing Python code.&nbsp; He will write a module count_animals for processing animal text files<ul><li>See his code at the bottom of this Etherpad</li></ul
></li
><li>First, write a function read_animals_file() which reads an animal text file and extracts the data from it.<ul><li>Note a function can return a tuple containing multiple values.&nbsp; You are not limited to returning a single value from a function.</li
><li>The function takes a filename as input and returns a tuple containing dates, times, animals, and counts</li></ul
></li
><li>Write a function mean() to return the mean of some values<ul><li>This function takes a variable "values" as input and returns a float containing the mean of values</li
><li>We can use the read_animals_file() function to get the counts for each animal and then use the mean() function to calculate the mean of counts</li></ul
></li
><li>Testing<ul><li>how do you know that the count_animals module is working properly??&nbsp; What if your animals text file is 10,000 lines long?&nbsp; It would be hard to know that the module is working simply by running it on an arbitrary data file.</li
><li>You write tests to do sanity checks on your code.&nbsp; Generally, you write a group of tests for each function.</li
><li>The basic Python keyword for doing testing is "assert"</li
><li>Some easy examples: "assert 1 == 1", "assert 4 &gt; 2"</li
><li>You can provide an error message to go along with the assert case.&nbsp; For example</li></ul
></li></ul
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; assert 1 == 2, "1 is not equal to 2 silly"<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If you evaluate the above statement, it will throw an AssertionError and print the&nbsp;<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; message "1 is not equal to 2 silly"<br
/><ul><li>We can have read_animals_file() read in a sample animal datafile and check that the read_animals_file() returns the correct data.&nbsp; Write assert statements to check that each list dates, times, animals, counts contains the correct values.</li
><li>We can write similar tests for the mean() function<ul><li>When you write a test, try to think of good "cases" to test -- edge cases, weird values, wrong types, etc.</li
><li>You can test what happens if you pass the mean() function an empty list.&nbsp; The way we implemented mean() right now, the test produces a ZeroDivisionError because the mean is calculated by dividing by the length of the list.&nbsp; Since an empty list has length 0, mean([]) will end up dividing by 0.</li></ul
></li
><li>There is a way of coding called "test-driven development."<ul><li>The idea is that you write the tests *before* you write code.&nbsp; The workflow is something like this.&nbsp; You write the tests you want your code to pass, then write some skeleton code and run the tests.&nbsp; Then based on the results of the tests, you might write some more tests and then write more code and then run the tests again.&nbsp; You iterative like this back and forth.</li
><li>For some people, test-driven development is a religion.</li
><li>In practice, Erik only does test-driven development sometimes.&nbsp; The problem is that test-driven development assumes you know exactly what you want your code to do.&nbsp; Frequently, you don't know that a priori and need to play with the code for some time to figure it out.</li
><li>An amusing exercise is where you are given a black box function and a bunch of tests for it.&nbsp; You have to figure out how to write the function simply from looking at the tests.</li></ul
></li
><li>A short history of unit testing.&nbsp; An old, obscure language called Smalltalk had one of the first examples of unit testing.&nbsp; It was called "xUnit".&nbsp; When Sun Microsystems was developing Java, they decided they wanted to write a testing library, so they looked around at all the programming languages and looked for patterns they could copy.&nbsp; They found xUnit and used that as their model for JUnit.&nbsp; Java is a popular language, so after JUnit was introduced, all the modern programming languages picked up on it and now have their own version of the "unit test."</li
><li>How do you know all your code has been tested?&nbsp; There is a concept called "coverage testing."&nbsp; There are libraries that check whether your tests have completely "covered" your code.&nbsp;&nbsp;<ul><li>In practice, 80% coverage is pretty good.&nbsp; However, having high coverage doesn't mean your code is good.&nbsp; That depends on your tests.</li></ul
></li
><li>So far we've been simply evaluating assert statements for our tests.&nbsp; This isn't really the way testing is done.&nbsp; Usually, you use a testing library and write your tests in the format prescribed by the testing library.<ul><li>Typically you write a function for each group of tests for each function in your code.&nbsp; For example:</li></ul
></li></ul
>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; def test_mean_empty_list():<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; assert mean([]) == 0<br
/><ul><li>Python has its own "unittest" library.&nbsp; A lot of people also use a library called "nose" wihch is based on unittest.</li
><li>Example of running tests on software: Erik runs some tests on Astropy using the command "python setup.py test"&nbsp; (Astropy uses the Python library pytest)</li
><li>There's an extension that allows you to run nose in IPython notebooks</li
><li>Aside: if you prefix a line in an IPython notebook cell with an exclamation mark ! and then evaluate that cell, the command will be executed in the terminal.</li
><li>Notice that when we run nose in the IPython notebook and get a failing test, there is no message telling us what the actual value was and what the expected value was.&nbsp; This is why Astropy uses a testing library different from nose.<br/><br
/></li></ul
><u>Day 2 - Afternoon: Scientific Python</u><br
/><br
/><ul><li>Why do scientific computing in Python?<ul><li>A lot of people use R for statistical analysis, but R is not as nice to program in as Python</li
><li>There are a ton of scientific Python libraries including Numpy (arrays), SciPy (number crunching), matplotlib (plotting), SymPy (symbolic math).&nbsp; Plus, IPython which we've already been using.</li
><li>People really like develping in Python, so there are lots of libraries written that interace Python with other software/programming languages</li
><li>A lot of people will do all their data crunching in Python using Numpy ndarrays and then pass the finished results to another program like R</li
><li>There is also a Python library that is a competitor to R (name???)</li></ul
></li
><li>Why use Numpy?<ul><li>Python was invented to be a learning language.&nbsp; It wasn't meant for heavy number crunching</li
><li>A Python list contains metadata associated with each element.&nbsp; Moreover, Python allows heterogenous lists, so the computer can't make any assumptions about what type each element is.&nbsp; Therefore, it's very inefficient for the computer to do computations on Python lists.</li
><li>A neat trick: you can use an alias for an imported module.&nbsp; For example "import numpy as np"</li
><li>Numpy has a very nice data structure called ndarray which is much more efficient than the Python list data structure</li
><li>Erik showed an example of how Numpy is much faster than regular Python.&nbsp; He multiplied three lists of integers elementwise using both Python lists and Numpy arrays.&nbsp; Each list has one million elements.&nbsp; He used the function time.time() to calculate the time it took to run each group of commands.&nbsp; Python lists takes about 0.5 sec to do this whereas Numpy arrays take about 0.03 sec.&nbsp; So that is over an order of magnitude improvement.</li></ul
></li
><li>Some common Numpy functions you can use on Numpy arrays: my_array.mean(), my_array.std()&nbsp;&nbsp;</li
><li>You can do common mathematical operations on Numpy arrays, e.g. "numpy.sin(x)" or "numpy.exp(x)"</li
><li>A useful Numpy function is linspace().&nbsp; If you give it a start value, an end value, and a spacing value, linspace() will produces an array of evenly spaced numbers between the start and stop value</li
><li>You can use the Python plotting library matplotlib to plot one Numpy array against another Numpy array, e.g. "plot(x,y)"</li
><li>The combination of Numpy, SciPy, and matplotlib is very similar to the commercial numerical software package Matlab<br/><br
/></li></ul
>Day 2 - Wrapup<br
/><ul><li>Wanted to convince you to write good scientific software and how to do it<ul><li>We believe scientific software should be open and reproducible</li></ul
></li
><li>Methods we wanted to introduce:<ul><li>version control</li
><li>documentation</li
><li>testing</li
><li>etc</li></ul
></li
><li>Connect with your colleagues to form a community of scholars interested in computational science</li
><li>Give us feedback!!&nbsp; We know we aren't perfect and want to get better.<ul><li>Fill out minute cards</li
><li>If you'd like to give anonymous feedback, you can email info@software-carpentry.org<br/><br
/></li></ul
></li></ul
>Matplotlib gallery<br
/>A gallery of figures in Matplotlib<br
/><a href="http://matplotlib.org/gallery.html">http://matplotlib.org/gallery.html</a><br
/>if you click on the image, you can get the code that generated that image<br
/><br
/><br
/>%%file count_animals.py # if you put this line in the same cell as the function and evaluate&nbsp;<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # the whole thing, the function will be saved as count_animals.py<br
/>def read_animals_file(filename):<br
/>&nbsp;&nbsp;&nbsp; open_file = open(filename, 'r')<br
/>&nbsp;&nbsp;&nbsp; dates = []<br
/>&nbsp;&nbsp;&nbsp; times = []<br
/>&nbsp;&nbsp;&nbsp; animals = []<br
/>&nbsp;&nbsp;&nbsp; counts = []<br
/>&nbsp;&nbsp;&nbsp; all_lines = open_file.readlines()<br
/>&nbsp;&nbsp;&nbsp; for line in all_lines:<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; d, t, a, c = line.split()<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dates.append(d)<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; times.append(t)<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; animals.append(a)<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; counts.append(c)<br
/>&nbsp;&nbsp;&nbsp; return dates, times, animals, counts<br
/><br
/># The mean function<br
/>def mean(values):<br
/>&nbsp;&nbsp;&nbsp; total = sum(values)<br
/>&nbsp;&nbsp;&nbsp; m = total / float(len(values))<br
/>&nbsp;&nbsp;&nbsp; return m<br
/><br
/><br
/><br
/>def count_moose(file):<br
/>&nbsp;&nbsp;&nbsp; newfile = open(file, 'r')&nbsp;<br
/>&nbsp;&nbsp;&nbsp; filelines = newfile.readlines()<br
/><br
/>&nbsp;&nbsp;&nbsp; moose_list = []<br
/>&nbsp;&nbsp;&nbsp;&nbsp;<br
/>&nbsp;&nbsp;&nbsp; for line in filelines:<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; d, t, a, n = line.split()<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if a == 'Moose':<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; num = int(n)<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if num &gt; 10:<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; moose_list.append(line)<br
/><br
/>&nbsp;&nbsp;&nbsp; return moose_list<br
/><br
/><br
/>%%file new_count_animals.py<br
/># This will output the code below to a file<br
/><br
/>def read_animals_file(filename):<br
/>&nbsp;&nbsp;&nbsp; open_file = open(filename, 'r')<br
/>&nbsp;&nbsp;&nbsp; dates = []<br
/>&nbsp;&nbsp;&nbsp; times = []<br
/>&nbsp;&nbsp;&nbsp; animals = []<br
/>&nbsp;&nbsp;&nbsp; counts = []<br
/>&nbsp;&nbsp;&nbsp; all_lines = open_file.readlines()<br
/>&nbsp;&nbsp;&nbsp; for line in all_lines:<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; d, t, a, c = line.split()<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dates.append(d)<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; times.append(t)<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; animals.append(a)<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; counts.append(int(c))<br
/>&nbsp;&nbsp;&nbsp; return dates, times, animals, counts<br
/><br
/>read_animals_file('animals.txt')<br
/><br
/># This will import the module that we just wrote<br
/>import new_count_animals<br
/><br
/># If we changed the module and need to reload it<br
/>reload(new_count_animals)<br
/>import new_count_animals<br
/><br
/># Now we can do<br
/>new_count_animals.read_animals_file('merida_animals.txt')<br
/><br
/># The mean function<br
/>def mean(values):<br
/>&nbsp;&nbsp;&nbsp; total = sum(values)<br
/>&nbsp;&nbsp;&nbsp; m = total / float(len(values))<br
/>&nbsp;&nbsp;&nbsp; return m<br
/>&nbsp;&nbsp;&nbsp;&nbsp;<br
/>dates, times, animals, counts = new_count_animals.read_animals_file('animals.txt')<br
/><br
/># Calculate the mean of the animals<br
/>mean(counts)<br
/><br
/><br
/># Testing and learning about assert statements<br
/><br
/>assert 1 == 1<br
/># Nothing will print out because this is correct<br
/><br
/>assert 1 == 2, "1 is not equal to 2"<br
/># Prints out a message, because it's not true<br
/><br
/>#---------------------------------------------------------------------------AssertionError&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #Traceback (most recent call last)&lt;ipython-input-16-d3794ff2f551&gt; in &lt;module&gt;()----&gt; 1&nbsp;<br
/>#assert 1 == 2, "1 is not equal to 2"<br
/>#AssertionError: 1 is not equal to 2<br
/><br
/>dates, times, animals, counts = new_count_animals.read_animals_file('animals.txt')<br
/>assert dates == ['2011-04-22', '2011-04-23', '2011-04-23', '2011-04-23', '2011-04-23']<br
/>assert times == ['21:06', '14:12', '10:24', '20:08', '18:46']<br
/>assert animals == ['Grizzly', 'Elk', 'Elk', 'Wolverine', 'Muskox']<br
/>assert counts == [36, 25, 26, 31, 20]<br
/><br
/>assert mean([]) == 0<br
/><br
/><br
/># The mean function<br
/>def mean(values):<br
/>&nbsp;&nbsp;&nbsp; """Returns the mean of a list of numbers.<br
/>&nbsp;&nbsp;&nbsp; Returns 0 for empty lists.<br
/>&nbsp;&nbsp;&nbsp; """<br
/>&nbsp;&nbsp;&nbsp;&nbsp;<br
/>&nbsp;&nbsp;&nbsp; if len(values) == 0:<br
/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 0<br
/>&nbsp;&nbsp;&nbsp; total = sum(values)<br
/>&nbsp;&nbsp;&nbsp; m = total / float(len(values))<br
/>&nbsp;&nbsp;&nbsp; return m<br
/><br
/># Writing tests.&nbsp; In Python you can use 'nose' for testing.&nbsp; When you write&nbsp;<br
/># tests, they need to start with 'test_'<br
/><br
/># Some example testing functions<br
/><br
/>def test_mean_empty_list():<br
/>&nbsp;&nbsp;&nbsp; assert mean([]) == 0<br
/>&nbsp;&nbsp;&nbsp;&nbsp;<br
/>def test_mean_123():<br
/>&nbsp;&nbsp;&nbsp; assert mean([1,2,3]) == 2<br
/>&nbsp;&nbsp;&nbsp;&nbsp;<br
/>ipython_nose:&nbsp;<br
/>%load <a href="https://raw.github.com/taavi/ipython_nose/master/ipython_nose.py">https://raw.github.com/taavi/ipython_nose/master/ipython_nose.py</a><br
/><br
/>! curl -0 <a href="https://raw.github.com/taavi/ipython_nose/master/ipython_nose.py">https://raw.github.com/taavi/ipython_nose/master/ipython_nose.py</a><br
/><br
/>&nbsp;&nbsp;&nbsp;&nbsp;<br
/>Nice Python resource: "Think Python" <a href="http://www.greenteapress.com/thinkpython/html/index.html">http://www.greenteapress.com/thinkpython/html/index.html</a><br
/><br
/>Python learning through music composition (kid friendly)<br
/><a href="http://earsketch.gatech.edu/">http://earsketch.gatech.edu/</a><br
/><br
/>Python learning through games and stories (also kid friendly)<br
/><a href="http://scratch.mit.edu/">http://scratch.mit.edu/</a><br
/><br
/>Erik mentioned an exercise we didn't get to do (the 'black box' function) where are given a function that you don't know what it does, and some tests for it, and you have to figure out from the tests alone how to implement the function.&nbsp; He will upload a notebook containing that exercise to the repository so that you can try it later yourself.<br
/><br
/><br
/><br
/></body>
</html>
