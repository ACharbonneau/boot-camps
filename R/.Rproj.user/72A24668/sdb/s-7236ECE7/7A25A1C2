{
    "contents" : "library(plyr) # ddply()\ngDat <- read.delim(\"gapminderDataFiveYear.txt\")\n\n## function that returns estimated intercept and slope from linear regression of\n## lifeExp on year\n## anticipated input: Gapminder data for one country\njFun <- function(z) {\n  yearMin <- min(z$year)\n  jCoef <- coef(lm(lifeExp ~ I(year - yearMin), z))\n  names(jCoef) <- c(\"intercept\", \"slope\")\n  return(jCoef)\n}\n\ngCoef <- ddply(gDat, .(country, continent), jFun)\n\n## reorder continent factor levels to reflect rate of life expectancy gains\n## (slowest growth to largest)\ngCoef$continent <-\n  reorder(gCoef$continent, gCoef$slope)\n\n## drop Oceania ... too few countries\ngCoef <- droplevels(subset(gCoef, continent != \"Oceania\"))\n\n## store in plain text\nwrite.table(gCoef, \"gCoef.txt\", quote = FALSE,\n            row.names = FALSE, sep = \"\\t\")\n\n## store in R-specific binary format\n## will preserve factor level order\nsaveRDS(gCoef, \"gCoef.rds\")",
    "created" : 1368753951616.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1163876070",
    "id" : "7A25A1C2",
    "lastKnownWriteTime" : 1368755362,
    "path" : "~/tmp/swc/01_countrySpecificInterceptSlope.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}